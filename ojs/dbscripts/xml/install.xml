<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE install SYSTEM "../../lib/pkp/dtd/install.dtd">
<!--
  * dbscripts/xml/install.xml
  *
  * Copyright (c) 2014-2020 Simon Fraser University
  * Copyright (c) 2003-2020 John Willinsky
  * Distributed under the GNU GPL v3. For full terms see the file docs/COPYING.
  *
  * Installation descriptor file.
  -->

<install version="3.2.1.0">
	<code function="checkPhpVersion" />

	<code function="createDirectories"/>
	<code function="createDatabase"/>

	<!-- PKP schema components -->
	<schema class="lib.pkp.classes.migration.AnnouncementsMigration" />
	<schema class="lib.pkp.classes.migration.CategoriesMigration" />
	<schema class="lib.pkp.classes.migration.CommonMigration" />
	<schema class="lib.pkp.classes.migration.ControlledVocabMigration" />
	<schema class="lib.pkp.classes.migration.GenresMigration" />
	<schema class="lib.pkp.classes.migration.LibraryFilesMigration" />
	<schema class="lib.pkp.classes.migration.LogMigration" />
	<schema class="lib.pkp.classes.migration.MetadataMigration" />
	<schema class="lib.pkp.classes.migration.MetricsMigration" />
	<schema class="lib.pkp.classes.migration.NavigationMenusMigration" />
	<schema class="lib.pkp.classes.migration.NotesMigration" />
	<schema class="lib.pkp.classes.migration.ReviewFormsMigration" />
	<schema class="lib.pkp.classes.migration.ReviewsMigration" />
	<schema class="lib.pkp.classes.migration.RolesAndUserGroupsMigration" />
	<schema class="lib.pkp.classes.migration.ScheduledTasksMigration" />
	<schema class="lib.pkp.classes.migration.SubmissionFilesMigration" />
	<schema class="lib.pkp.classes.migration.SubmissionsMigration" />
	<schema class="lib.pkp.classes.migration.TemporaryFilesMigration" />
	<schema class="lib.pkp.classes.migration.TombstoneMigration" />
	<schema class="lib.pkp.classes.migration.ViewsMigration" />

	<!-- OJS schema -->
	<schema class="classes.migration.OJSMigration" />

	<!-- CLOB/Text indexes handled differently for MySQL and PostgreSQL -->
	<data file="dbscripts/xml/indexes.xml" />

	<!-- Other install tasks -->
	<code function="createData"/>
	<code function="createConfig"/>
	<code function="addPluginVersions"/>
	<code function="installDefaultNavigationMenus"/>
</install>
