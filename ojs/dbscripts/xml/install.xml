<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE install SYSTEM "../../lib/pkp/dtd/install.dtd">
<!--
  * dbscripts/xml/install.xml
  *
  * Copyright (c) 2014-2021 Simon Fraser University
  * Copyright (c) 2003-2021 John Willinsky
  * Distributed under the GNU GPL v3. For full terms see the file docs/COPYING.
  *
  * Installation descriptor file.
  -->

<install version="3.4.0.0">
	<code function="checkPhpVersion" />

	<code function="createDirectories"/>

	<!-- PKP schema components -->
	<migration class="PKP\migration\CategoriesMigration" />
	<migration class="PKP\migration\CommonMigration" />
	<migration class="PKP\migration\ControlledVocabMigration" />
	<migration class="PKP\migration\FilesMigration" />
	<migration class="PKP\migration\GenresMigration" />
	<migration class="PKP\migration\JobsMigration" />
	<migration class="PKP\migration\LibraryFilesMigration" />
	<migration class="PKP\migration\LogMigration" />
	<migration class="PKP\migration\MetadataMigration" />
	<migration class="PKP\migration\MetricsMigration" />
	<migration class="PKP\migration\NavigationMenusMigration" />
	<migration class="PKP\migration\NotesMigration" />
	<migration class="PKP\migration\ReviewFormsMigration" />
	<migration class="PKP\migration\SubmissionFilesMigration" /><!-- before ReviewsMigration so that foreign keys can be defined-->
	<migration class="PKP\migration\RolesAndUserGroupsMigration" />
	<migration class="PKP\migration\ScheduledTasksMigration" />
	<migration class="PKP\migration\SubmissionsMigration" />
	<migration class="PKP\migration\ReviewsMigration" />
	<migration class="PKP\migration\TemporaryFilesMigration" />
	<migration class="PKP\migration\TombstoneMigration" />
	<migration class="PKP\migration\ViewsMigration" />

	<!-- OJS schema -->
	<migration class="APP\migration\OJSMigration" />

	<migration class="PKP\migration\AnnouncementsMigration" />

	<!-- Other install tasks -->
	<code function="createData"/>
	<code function="createConfig"/>
	<code function="addPluginVersions"/>
	<code function="installDefaultNavigationMenus"/>
</install>
