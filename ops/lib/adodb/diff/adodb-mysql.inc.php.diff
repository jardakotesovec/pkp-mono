Index: adodb/drivers/adodb-mysql.inc.php
===================================================================
RCS file: /cvs/ojs2/lib/adodb/drivers/adodb-mysql.inc.php,v
retrieving revision 1.3
diff -u -r1.3 adodb-mysql.inc.php
--- adodb/drivers/adodb-mysql.inc.php	12 Mar 2004 23:05:13 -0000	1.3
+++ adodb/drivers/adodb-mysql.inc.php	28 Jun 2004 00:40:48 -0000
@@ -493,6 +493,32 @@
 		return 4294967295; 
 	}
 	
+	// Functions for managing the client encoding
+	// Added 2004-06-20 by Kevin Jamieson (http://www.pkp.ubc.ca/)
+	function GetCharSet()
+	{
+		if (function_exists('mysql_client_encoding')) {
+			$this->charSet = @mysql_client_encoding($this->_connectionID);
+		}
+		
+		if (!$this->charSet) {
+			return false;
+		} else {
+			return $this->charSet;
+		}
+	}
+	
+	// SetCharSet - switch the client encoding
+	function SetCharSet($charset_name)
+	{
+		if ($this->Execute('SET NAMES ?', array($charset_name))) {
+			$this->charSet = $charset_name;
+			return true;
+		} else {
+			return false;
+		}
+	}
+	
 }
 	
 /*--------------------------------------------------------------------------------------
